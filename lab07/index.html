<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="utf-8">
    <title>Lab 7</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@900&display=swap');

        h1, div {
          background-color: rgba(255, 255, 0, 0.1);
          font-family: 'Noto Serif JP', serif;
          font-size: 24pt;
          border: solid 1px black;
          width: 90%;
          margin: 5px auto;
          padding: 10px;
        }

        div {
          font-size: 12pt;
        }

        body {
            background-color: rgba(255, 128, 255, 0.1);
        }

        video:hover {
            box-shadow: 0 0 2px 1px rgba(0, 140, 186, 0.5);
        }
    </style>
    <script src="https://d3js.org/d3.v6.min.js" charset="utf-8"></script> <!-- v6.5.0 -->
</head>
<body>
    <h1>
        lab07 漢字變形 Path Transitions
    </h1>
    <div>
      限定使用 D3.js，參考以下影片。
    	<ul>
    		<li><a href="https://bocoup.com/blog/improving-d3-path-animation">Improving D3 Path Animation</a></li>
    		<li><a href="https://bost.ocks.org/mike/path/">https://bost.ocks.org/mike/path/</a></li>
    	</ul>
    </div>

    <div>
  		<video width="400" controls loop autoplay>
  		  <source src="2.mp4" type="video/mp4">
  		</video>
    </div>

    <div>
      展示區 (姓名)
      <hr>
      <img width="256" src="./uni4F55_FZSJSK--GBK1-0.svg">
      <img width="256" src="./uni570B_FZSJSK--GBK1-0.svg">
      <img width="256" src="./uni9756_FZSJSK--GBK1-0.svg">
    </div>

    <div>
      Drag and Drop 展示區 (接收任何SVG)
      <hr>
      <svg height="450" width="350">
        <path id="path1"/>
      </svg>
      <svg height="450" width="350">
        <path id="path2"/>
      </svg>
      <svg height="450" width="350">
        <path id="path3"/>
      </svg>
    </div>
    <script src="https://unpkg.com/d3-interpolate-path/build/d3-interpolate-path.min.js"></script>
    <script type="text/javascript">
      circle = [];
      for (var x = 50; x <= 350; x=x+0.01) {
        data = [];
        data.push(x);
        y = Math.sqrt(22500 - Math.pow(x - 200, 2)) + 200;
        data.push(y);
        circle.push(data);
      }
      for (var x = 350; x >= 50; x=x-0.01) {
        data = [];
        data.push(x);
        y = -Math.sqrt(22500 - Math.pow(x - 200, 2)) + 200;
        data.push(y);
        circle.push(data);
      }
      var line = d3.line();
      var first = "M72 15v-4q1 -1 3 1q9 11 5 17q-5 11 -11 23q47 -12 127 -22q-1 -4 3 -6q3 -3 9 0q10 8 24 14q5 3 7 6q1 2 -1 4q0 9 -26 -12q-3 -2 -11 -1q-6 0 -40 6q1 3 11 6q5 2 4 9q-2 8 0 29q1 5 2 8q7 70 0 108q-1 3 -1 2q-4 12 -7 16q-2 1 -5 0t-4 -1q-2 0 -4 -1q-22 -6 -41 -17"+
      "q-4 -4 1 -2q25 9 44 12l1 -1q9 0 12 -9q4 -18 1 -69q-5 -54 -12 -80q-4 -6 -4 -9q-53 8 -77 16q-3 2 -14 -2q-1 3 -1 6q-1 5 -1 9q-5 28 -5 82q-1 4 6 14q2 5 6 11q2 4 3 5q4 8 0 8q-2 3 -10 -6q-6 -6 -12 -11q-5 -2 -4 -9q-1 -2 4 -5q1 0 2 -1v-5q0 -5 1 -17q-1 -39 1 -54"+
      "v-20q-30 46 -49 52q-2 0 -1 -2q10 -9 34 -45q5 -8 12 -17q18 -25 18 -36zM134 68q6 0 9 2q4 3 9 4v1q3 1 3 3q-1 3 -5 4q-2 1 -7 6q-4 4 -6 7q5 0 14 -3q5 -1 7 2v1q0 2 -1 3q-1 4 -10 4q-21 3 -45 15q-5 3 -8 -2q-2 -3 1 -4q2 0 5 -3q-7 -6 -8 -9q-2 -3 -1 -7q-1 -3 -2 -5"+
      "q-3 -4 6 -2q4 -4 35 -14l1 -1q1 -2 3 -2zM129 78q-12 5 -18 6q-5 2 -8 2q-5 1 -7 2q2 11 13 16q16 -2 23 -23q1 -2 1 -3h-4z"

      d3.select("#path1")
      .transition()
      .attr('d', line(circle))
      .attr('stroke', "black")
      .attr('stroke-width', "1")
      .attr('fill', "none")
      .transition()
      .duration(5000)
      .attrTween('d', function () {
        return d3.interpolatePath(line(circle), first);
      });

      var middle = "M150 32q-1 -1 1 -2q10 2 19 6q6 3 6 6q-4 3 -7 0q-1 -1 -11 -5q1 0 -1 -1q-5 -1 -7 -4zM63 42q1 2 4 5q2 4 4 5q1 1 1 6l-5 40q-2 16 -4 38q-3 15 -2 34q-1 9 5 18q1 4 3 11q0 2 1 2q-3 3 -5 1q-1 0 -3 -1q-4 -3 -4 -5q-3 -10 -8 -11q-3 -7 2 -10q6 2 6 -5q0 -12 1 -26"+
      "q0 -5 1 -8v-12q4 -37 3 -58q0 -21 -1 -21q-2 -3 1 -3zM113 98q1 -2 1 -3h-2q-16 5 -21 9q-4 2 1 8q0 1 2 3q1 2 2 2q1 -2 7 -6l3 -3l2 -3q0 -1 2 -3q3 -2 3 -4zM94 122q-2 1 -5 -3q-14 -13 -8 -24q1 -1 2 0q-1 5 3 7q0 -5 29 -12q3 1 4 -3q1 -3 3 -3q10 1 15 5q-1 1 -1 4" +
      "q-11 0 -16 7l-5 5h12q2 1 1 2q-5 5 -7 4q-9 1 -26 15q-3 3 -1 -4zM150 168q1 -1 4 -1q17 3 20 5q-1 6 -1 5q-3 0 -8 -1q-1 0 -2 -1q-12 -4 -27 -2q-22 4 -36 7q-11 2 -16 3q-2 3 -14 2q-2 0 -3 -1q0 -1 2 -2q2 0 7 -1q19 -4 35 -7q5 0 13 -1q19 -3 26 -5zM123 68q-7 5 -2 -2" +
      "q1 0 3 -2q0 -1 1 -2q-5 3 -20 7q-5 2 -11 2q-2 -1 -3 -1q-5 0 -1 -2q23 -5 48 -12q0 -4 -1 -6q-4 -22 -7 -25q-2 -3 1 -1q11 5 10 7q-1 4 0 19q0 3 1 4t3 0q1 -1 3 -1q0 -5 4 -5q10 2 16 5q0 3 -1 3q-14 0 -24 3q8 39 17 64q6 -17 6 -27q-1 -2 1 -1q1 2 5 5v3q-5 12 -10 25" +
      "q6 20 20 34q1 3 2 -5q-1 -5 1 -13q0 -4 1 -1q3 23 10 30q-2 -38 -3 -54q-1 -20 -1 -33q-1 -27 1 -39v-7q0 -12 -3 -16q-9 -11 -33 -10q-22 1 -47 8q-2 1 -3 1q-10 5 -21 4q-3 0 0 -2q3 1 13 -4q28 -9 57 -10q26 0 35 10q4 4 12 15q-5 -8 2 2q0 1 1 2q2 3 5 5q1 2 -2 4" +
      "q-3 3 -4 2q-4 -2 -4 6q-3 13 -4 26t0 36q1 33 2 48q1 18 3 28q0 4 1 9q1 7 3 14q-1 2 -5 1q-7 -6 -11 -11q-2 -2 -6 -4q-4 -3 -6 -5q-6 -4 -11 -10q-1 -2 -1 -3q-2 -2 1 0q10 9 23 15q7 3 8 2q1 -3 0 -12q-1 -7 -2 -11v-3q-6 4 -16 -11q-12 -16 -20 -34q-14 24 -36 27" +
      "q-3 0 0 -1q22 -8 33 -31q-11 -30 -17 -67q-7 3 -17 8zM151 128h-18q-22 5 -49 14q-11 5 -16 9q-5 0 -3 -4q1 -1 2 -3q1 -1 2 -3t2 -2t1 2q-1 3 5 1q33 -11 54 -16v-1q1 -4 2 -3q1 0 4 1q2 1 4 0q5 0 11 3q2 3 -1 2z"

      d3.select("#path2")
      .transition()
      .attr('d', line(circle))
      .attr('stroke', "black")
      .attr('stroke-width', "1")
      .attr('fill', "none")
      .transition()
      .duration(5000)
      .attrTween('d', function () {
        return d3.interpolatePath(line(circle), middle);
      });

      var last = "M113 67q-12 -4 -57 22q-12 7 -24 2q-5 -1 0 -2q17 2 46 -17q12 -7 13 -11t6 -3q10 2 17 4q2 2 2 4q0 1 -3 1zM34 183q-8 5 -12 1q-1 -1 -1 -2t2 -1q30 -5 90 -65q6 -4 2 1q-38 45 -81 66zM73 110q-1 2 -1 3q-3 8 -5 11q-1 1 -1 2q-2 3 1 6q0 4 -4 2q-7 -5 -11 -15"+
      "q-2 -4 2 -2q0 1 2 2q5 3 6 2q4 -4 9 -12q3 -4 2 1zM97 83q3 3 8 6q1 2 1 3t-2 1q-2 2 -4 5q-1 2 -2 3q-11 27 -22 41q-5 5 -1 -1q11 -19 21 -48q1 -7 -1 -8q-4 -3 2 -2zM68 19q8 3 22 12q2 5 -1 5h-2q-6 -1 -9 -4q-2 -1 -4 -1q-2 2 -2 -3q1 -2 -4 -8q-3 -1 0 -1zM177 124"+
      "q-8 1 -24 6h-1q0 13 -1 21q8 3 13 -1h2q4 -2 11 -4v-22zM170 83q3 -1 6 0q7 6 15 10q2 1 2 3q-1 1 -3 2q-9 4 -7 8q-5 33 -2 69q2 30 12 52q1 2 -2 3t-3 -1q-3 -7 -10 -14q-9 -11 -14 -27q-2 -5 2 -1q5 12 15 19q1 1 2 1t1 -2q-3 -9 -4 -22q-1 -11 -2 -32q-20 6 -27 2"+
      "q-3 64 -26 77q-5 4 -1 -1q27 -25 24 -123q-2 -5 -4 -9q-5 -3 -9 -5q-3 -1 0 -6q2 -2 2 0q-4 9 19 9q4 2 1 6q-7 -4 -5 27q7 -4 25 -8v-30q-1 -4 -5 -5q-2 1 -5 2q-4 1 -9 2q-3 1 0 -1q2 0 6 -2zM151 -4q18 8 18 13v9q11 -3 12 -8q1 -2 5 -2q11 2 18 5q2 3 -3 4q-12 -2 -32 7"+
      "v15q7 -2 11 -2q5 3 0 7l-9 3q-2 1 -3 1q-1 3 -1 5q-2 12 -3 16q27 -4 47 -8q7 -1 7 -4q-1 -3 5 -2q5 3 17 6q3 1 2 4q0 1 -3 1q-40 -1 -57 6q-6 3 -2 -1q0 -2 -3 -1q-8 2 -13 2q-9 9 -12 3q-37 12 -50 9q-5 0 0 -2q11 2 52 -10q1 -3 3 -13q0 -4 1 -6q-12 5 -20 3q-2 0 -2 -1"+
      "q1 -1 3 -2q12 -4 20 -8q1 -5 1 -19q-22 6 -33 1q-4 -1 1 -2q15 1 32 -5q0 -16 -10 -22q-5 -3 1 -2z"

      d3.select("#path3")
      .transition()
      .attr('d', line(circle))
      .attr('stroke', "black")
      .attr('stroke-width', "1")
      .attr('fill', "none")
      .transition()
      .duration(5000)
      .attrTween('d', function () {
        return d3.interpolatePath(line(circle), last);
      });

      // Your beautiful D3 code will go here
    </script>
  </html>
